<!doctype html>
<!--[if IE 9]>
<html class="lt-ie10" lang="en"> <![endif]-->
<html class="no-js" lang="en" data-useragent="Mozilla/5.0 (compatible; MSIE 10.0; Windows NT 6.2; Trident/6.0)">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Logging in CUBA Applications</title>
    <meta name="description" content="The CUBA Platform guides cover different aspects of the CUBA Platform and give you advice on how to work with CUBA Platform by giving you concrete examples.">
    <meta name="author" content="Haulmont">
    <link rel="stylesheet" href="/guides/css/foundation.css">
    <link rel="stylesheet" href="/guides/css/font-awesome.css">
    <link rel="stylesheet" href="/guides/css/coderay.css">
    <link rel="stylesheet" href="/guides/css/bootstrap.css">
    <link rel="stylesheet" href="https://www.cuba-platform.com/sites/all/themes/cuba_adaptive/css/reset.css">
    <link rel="stylesheet" href="https://www.cuba-platform.com/sites/all/themes/cuba_adaptive/css/animate.css">
    <link rel="stylesheet" href="/guides/css/extra.css">
    <link rel="stylesheet" href="/guides/css/extra2.css">
    <link rel="stylesheet" href="/guides/css/font-awesome.min.css">
    <link rel="stylesheet" href="/guides/css/guides.css">
    <script src="/guides/js/jquery_v2.1.min.js"></script>
</head>
<body class="html not-front not-logged-in no-sidebars page-node page-node- page-node-962 node-type-blog-post i18n-en">

<section id="wrapper">
    <!-- BEGIN HEADER -->
<header id="header">
    <div class="upper-header">
        <div class="upper-header-wrapper cuba-container">
            <div class="header-logo">
                <a href="/"></a>
            </div>
            <div class="header-options"></div>
            <div class="header-menu" role="navigation">
                <div class="region region-nav-main">
                    <section id="block-menu-menu-nav" class="block block-menu clearfix">
                        <ul class="menu nav">
                            <li class="first expanded dropdown">
                                <a href="/framework" data-target="#" class="dropdown-toggle" data-toggle="dropdown">Platform <span class="caret"></span></a>
                                <ul class="dropdown-menu">
                                    <li class="first leaf"><a href="/framework">The Framework</a></li>
                                    <li class="leaf"><a href="/development-tools">Development Tools</a></li>
                                    <li class="leaf"><a href="/marketplace">Marketplace</a></li>
                                    <li class="last leaf"><a href="/license-pricing">License &amp; Pricing</a></li>
                                </ul>
                            </li>
                            <li class="leaf"><a href="/download">Download</a></li>
                            <li class="expanded active-trail active dropdown">
                                <a href="/online-demo" class="active-trail dropdown-toggle" data-target="#" data-toggle="dropdown">Learn <span class="caret"></span></a>
                                <ul class="dropdown-menu">
                                    <li class="first leaf"><a href="/online-demo">Online Demo</a></li>
                                    <li class="leaf"><a href="/quickstart">Quick Start</a></li>
                                    <li class="leaf"><a href="/tutorials">Tutorials</a></li>
                                    <li class="leaf"><a href="/sample-projects">Sample Projects</a></li>
                                    <li class="leaf"><a href="/webinars">Webinars</a></li>
                                    <li class="leaf"><a href="/documentation">Documentation</a></li>
                                    <li class="last leaf"><a href="/faq">FAQ</a></li>
                                </ul>
                            </li>
                            <li class="expanded dropdown">
                                <a href="https://www.cuba-platform.com/discuss/" data-target="#" class="dropdown-toggle" data-toggle="dropdown">
                                    Community
                                    <span class="caret"></span>
                                </a>
                                <ul class="dropdown-menu">
                                    <li class="first leaf"><a href="https://www.cuba-platform.com/discuss/">Forum</a></li>
                                    <li class="collapsed"><a href="/testimonials">Customer stories</a></li>
                                    <li class="last leaf"><a href="/blog">Blog</a></li>
                                </ul>
                            </li>
                            <li class="expanded dropdown">
                                <a href="/training" data-target="#" class="dropdown-toggle" data-toggle="dropdown">Services <span class="caret"></span></a>
                                <ul class="dropdown-menu">
                                    <li class="first leaf"><a href="/training">Training</a></li>
                                    <li class="leaf"><a href="/support-options">Support</a></li>
                                    <li class="last leaf"><a href="/development">Development</a></li>
                                </ul>
                            </li>
                            <li class="leaf"><a href="/store">Store</a></li>
                            <li class="last leaf"><a href="/contacts">Contacts</a></li>
                        </ul>
                    </section>
                </div>
            </div>
        </div>
    </div>
</header>

<!-- BEGIN LOWER HEADER -->
<div class="lower-header std">
    <div class="submenu">
        <div class="submenu-title-wrapper">
            <div class="cuba-container">
                <div class="region region-lower-header-submenu">
                    <section id="block-menu-block-1" class="block block-menu-block clearfix">

                        <h2 class="block-title">Learn</h2>

                        <div class="menu-block-wrapper menu-block-1 menu-name-menu-nav parent-mlid-0 menu-level-2">
                            <ul class="menu nav">
                                <li class="first leaf menu-mlid-1329"><a href="/online-demo">Online Demo</a></li>
                                <li class="leaf menu-mlid-1327"><a href="/quickstart">Quick Start</a></li>
                                <li class="leaf menu-mlid-1328"><a href="/tutorials">Tutorials</a></li>
                                <li class="leaf menu-mlid-1730"><a href="/sample-projects">Sample Projects</a></li>
                                <li class="leaf"><a href="/webinars">Webinars</a></li>
                                <li class="leaf menu-mlid-1326"><a href="/documentation">Documentation</a></li>
                                <li class="last leaf menu-mlid-1591"><a href="/faq">FAQ</a></li>
                            </ul>
                        </div>

                    </section>
                </div>
            </div>
        </div>

        <!-- WILL BE SHOWN UPON CONDITION -->

        <!-- WILL BE SHOWN UPON CONDITION -->

    </div>
</div>

<style>
    .upper-header .header-options {
        display: none;
    }

    .upper-header .upper-header-wrapper .header-menu div .nav > li:last-child > a {
        padding-right: 0;
    }
</style>

    <!-- Main Page Content and Sidebar -->
    <div class="content-wrapper">
        <div class="cuba-container text-node blog">
            <!-- Main content (left column) -->
            <div class="region region-content">
                <section id="block-system-main" class="block block-system clearfix">
                    <div id="node-962" class="article node node-blog-post node-promoted clearfix">
                        <div class="content">
                            <div class="field field-name-body field-type-text-with-summary field-label-hidden">
                                <div class="field-items">
                                    <div class="field-item even" property="content: encoded">
                                        <h1>Logging in CUBA Applications</h1>
<div id="preamble">
<div class="sectionbody">
<div class="paragraph">
<p>In order to get insights into a running CUBA application, Logging is one crucial part to get in place. The Java ecosystem has very mature mechanisms to do application logging. This guide shows how this ecosystem can be leveraged in a CUBA application.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="what_will_be_build"><a class="anchor" href="#what_will_be_build"></a><a class="link" href="#what_will_be_build">What Will Be Build</a></h2>
<div class="sectionbody">
<div class="paragraph">
<p>This guides enhances the <a href="https://github.com/cuba-platform/cuba-petclinic">CUBA petclinic</a> example to show how logging can be integrated, configured and viewed as part of the application itself or with the help of external tools.</p>
</div>
<div class="sect2">
<h3 id="final_application"><a class="anchor" href="#final_application"></a><a class="link" href="#final_application">Final Application</a></h3>
<a href="https://raw.githubusercontent.com/cuba-guides/cuba-petclinic-intro-to-datamanager/master/img/adjustments-cuba-petclinic-overview.gif"><img src="https://raw.githubusercontent.com/cuba-guides/cuba-petclinic-intro-to-datamanager/master/img/login-screen.png"/></a>
</div>
<div class="sect2">
<h3 id="requirements"><a class="anchor" href="#requirements"></a><a class="link" href="#requirements">Requirements</a></h3>
<div class="paragraph">
<p>Your development environment requires to contain the following:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><a href="https://www.oracle.com/technetwork/java/javase/downloads/index.html">JDK 1.8</a></p>
</li>
<li>
<p>a text editor or IDE (<a href="https://www.jetbrains.com/idea/download/">IntelliJ IDEA</a> preferred)</p>
</li>
<li>
<p><a href="https://www.cuba-platform.com/download">CUBA Studio</a> (optional)</p>
</li>
<li>
<p><a href="https://github.com/cuba-platform/cuba-cli/wiki/Installation">CUBA CLI</a> (optional)</p>
</li>
</ul>
</div>
<div class="paragraph">
<p><a href="https://github.com/cuba-guides/cuba-petclinic-application-logging/archive/master.zip">Download</a> and unzip the source repository for this guide, or clone it using git:</p>
</div>
<div class="paragraph">
<p><code>git clone <a href="https://github.com/cuba-guides/cuba-petclinic-application-logging.git" class="bare">https://github.com/cuba-guides/cuba-petclinic-application-logging.git</a></code></p>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="example_cuba_petclinic"><a class="anchor" href="#example_cuba_petclinic"></a><a class="link" href="#example_cuba_petclinic">Example: CUBA petclinic</a></h2>
<div class="sectionbody">
<div class="paragraph">
<p>The project that is the basis for this example is <a href="https://github.com/cuba-platform/cuba-petclinic">CUBA Petclinic</a>. It is based on the commonly known <a href="https://github.com/spring-projects/spring-petclinic">Spring Petclinic</a>. The CUBA Petclinic application deals with the domain of a Pet clinic and the associated business workflows to manage a pet clinic.</p>
</div>
<div class="paragraph">
<p>The underlying domain model for the application looks like this:</p>
</div>
<div class="imageblock">
<div class="content">
<img src="/guides/images/domain-model.png" alt="Domain model">
</div>
</div>
<div class="paragraph">
<p>The main entities are <strong>Pet</strong> and <strong>Visit</strong>. A Pet is visiting the petclinic and during this Visit a Vet is taking care of it. A Pet belongs to an Owner, which can hold multiple pets. The visit describes the act of a pet visiting the clinic with the help of its owner.</p>
</div>
<a href="https://raw.githubusercontent.com/cuba-platform/cuba-petclinic/master/img/cuba-petclinic-overview.gif"><img src="https://raw.githubusercontent.com/cuba-platform/cuba-petclinic/master/img/login-screen.png"/></a>
</div>
</div>
<div class="sect1">
<h2 id="why_application_logging_is_essential"><a class="anchor" href="#why_application_logging_is_essential"></a><a class="link" href="#why_application_logging_is_essential">Why Application Logging is Essential</a></h2>
<div class="sectionbody">
<div class="paragraph">
<p>Logging information about the running application is essential in order to get insights on how the application behaves, what unexpected behavior occurs and how the users are interacting with the system.</p>
</div>
<div class="paragraph">
<p>Logging is a common tool of application development and operation. The developer writes statements into the application source code indicating that certain actions happened.</p>
</div>
<div class="paragraph">
<p>In the following petclinic example two possible log messages are written. In case of successful storage of the <code>Pet</code> instance, an informal message is written with the details of the pet that has been stored. In case of a failure of storing the Pet, an error message is written with information about the failure.</p>
</div>
<div class="listingblock">
<div class="title">PetServiceBean.java</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span class="directive">private</span> Pet savePet(Pet pet) {
    <span class="keyword">try</span> {
      Pet savedPet = dataManager.commit(pet);
      log.info(<span class="string"><span class="delimiter">&quot;</span><span class="content">Pet </span><span class="delimiter">&quot;</span></span> + pet + <span class="string"><span class="delimiter">&quot;</span><span class="content"> was saved correctly</span><span class="delimiter">&quot;</span></span>);
      <span class="keyword">return</span> savedPet;
    }
    <span class="keyword">catch</span>(<span class="exception">Exception</span> e) {
      log.error(<span class="string"><span class="delimiter">&quot;</span><span class="content">Pet </span><span class="delimiter">&quot;</span></span> + pet + <span class="string"><span class="delimiter">&quot;</span><span class="content"> could not be saved</span><span class="delimiter">&quot;</span></span>, e);
      <span class="keyword">return</span> <span class="predefined-constant">null</span>;
    }

}</code></pre>
</div>
</div>
<div class="paragraph">
<p>Those messages will be written in a configured place that some administrator or developer has access to for later use. Normally, this place is a plain text file, but it is also possible to store the logging information in a Database or a centralized logging service.</p>
</div>
<div class="paragraph">
<p>While the application is developed there is a possibility to debug the source code. This gives a developer the ability to stop the application at any point of time and reason about its internal state.</p>
</div>
<div class="paragraph">
<p>For a running application, this is normally not the case. Either because of security reasons or simply because the application is not run on a server that is under the control of a developer.</p>
</div>
<div class="paragraph">
<p>Therefore logging is another tool in the toolbox of a developer in order to do diagnostics of a running application.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="the_java_logging_ecosystem"><a class="anchor" href="#the_java_logging_ecosystem"></a><a class="link" href="#the_java_logging_ecosystem">The Java Logging Ecosystem</a></h2>
<div class="sectionbody">
<div class="paragraph">
<p>In the Java ecosystem logging has (as in a lot of other ecosystems as well) played a substantial role. There are various mechanisms and abstractions out there on how to actually interact with the logging mechanisms of the platform the application is running on.</p>
</div>
<div class="paragraph">
<p>Mainly these are various APIs of the JVM and different logging libraries that encapsulate the technical concern of logging to a file / database from the abstraction of "writing a log message".</p>
</div>
<div class="paragraph">
<p>In recent years a commonly used combination has been adopted in the Java ecosystem:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Slf4J</p>
</li>
<li>
<p>Logback</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Slf4J is an abstract API that encapsulates the concrete details of the logging library. It offers different methods for logging information to the logging system with different servity levels (<code>DEBUG</code>, <code>INFO</code>, <code>WARN</code> etc.).</p>
</div>
<div class="paragraph">
<p>Logback, on the other hand, is the logging library that fulfills this API and does the heavy lifting of writing the message to a log appender. An appender is a component within the logging library that takes a logging event created by an application developer and writes it to a specific output. Logback contains the options to configure how the logging system should behave, which log information go into which appender etc.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="how_to_log_in_a_cuba_application"><a class="anchor" href="#how_to_log_in_a_cuba_application"></a><a class="link" href="#how_to_log_in_a_cuba_application">How to Log in a CUBA Application</a></h2>
<div class="sectionbody">
<div class="paragraph">
<p>The usage of logging libraries within a CUBA application does not differ from other Java applications in this regard. CUBA is by default configured with Sl4fJ and Logback in place. The framework itself uses them for framework internal logging messages.</p>
</div>
<div class="paragraph">
<p>In order to log information within a class, an instance of a Logger has to be created in the class that wants to log information.</p>
</div>
<div class="listingblock">
<div class="title">DiseaseWarningMailingServiceBean.java</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span class="annotation">@Service</span>(DiseaseWarningMailingService.NAME)
<span class="directive">public</span> <span class="type">class</span> <span class="class">DiseaseWarningMailingServiceBean</span> <span class="directive">implements</span> DiseaseWarningMailingService {


  <span class="directive">private</span> <span class="directive">static</span> <span class="directive">final</span> <span class="predefined-type">Logger</span> log = LoggerFactory.getLogger(DiseaseWarningMailingServiceBean.class); <i class="conum" data-value="1"></i><b>(1)</b>

  <span class="comment">// ...</span>

  <span class="annotation">@Override</span>
  <span class="directive">public</span> <span class="type">int</span> warnAboutDisease(PetType petType, <span class="predefined-type">String</span> disease, <span class="predefined-type">String</span> city) {

    log.debug(<span class="string"><span class="delimiter">&quot;</span><span class="content">Disease warnings should be send out for Pet type: {}, Disease: {} in the area of {}</span><span class="delimiter">&quot;</span></span>, petType, disease, city); <i class="conum" data-value="2"></i><b>(2)</b>

    <span class="predefined-type">List</span>&lt;Pet&gt; petsInDiseaseCity = findPetsInDiseaseCity(petType, city);
    <span class="predefined-type">List</span>&lt;Pet&gt; petsWithEmail = filterPetsWithValidOwnersEmail(petsInDiseaseCity);

    log.debug(<span class="string"><span class="delimiter">&quot;</span><span class="content">possible pets in danger: {}</span><span class="delimiter">&quot;</span></span>, petsWithEmail);

    petsWithEmail.forEach(pet -&gt; sendEmailToPetsOwner(pet, disease, city));
    <span class="type">int</span> amountOfInformedPets = petsWithEmail.size();

    log.info(<span class="string"><span class="delimiter">&quot;</span><span class="content">Summary: Disease warning send out to {} Pet(s) in {}</span><span class="delimiter">&quot;</span></span>, amountOfInformedPets, city); <i class="conum" data-value="3"></i><b>(3)</b>

    <span class="keyword">return</span> amountOfInformedPets;
  }


  <span class="comment">// ...</span>

}</code></pre>
</div>
</div>
<div class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td>Logger configured for this class is defined through Slf4J</td>
</tr>
<tr>
<td><i class="conum" data-value="2"></i><b>2</b></td>
<td>Write debug log message when <code>warnAboutDisease</code> is initiated</td>
</tr>
<tr>
<td><i class="conum" data-value="3"></i><b>3</b></td>
<td>Write summary info message about the outcome of the method execution. Variable parts of the log message can be passed into the method as parameters and marked in the log message as the following placeholder: <code>{}</code></td>
</tr>
</table>
</div>
<div class="sect2">
<h3 id="view_log_messages_through_cuba_ui"><a class="anchor" href="#view_log_messages_through_cuba_ui"></a><a class="link" href="#view_log_messages_through_cuba_ui">View Log Messages Through CUBA UI</a></h3>
<div class="paragraph">
<p>There are several ways to get access to the log output of the running application. The most common way is a log file within the filesystem of the server. Unfortunately, this oftentimes requires special permissions and knowledge to get access to the file.</p>
</div>
<div class="paragraph">
<p>CUBA offers a user interface screen, which displays the log information of the running application. It can be found via <code>Administration &gt; Server Log &gt; View</code>:</p>
</div>
<a href="https://raw.githubusercontent.com/cuba-guides/cuba-petclinic-application-logging/master/img/cuba-server-log-messages.png"><img src="https://raw.githubusercontent.com/cuba-guides/cuba-petclinic-application-logging/master/img/cuba-server-log-messages.png"/></a>
<div class="paragraph">
<p>The UI allows the user to display different log files or download them for later use. It gives also non-administrator roles access to the logs, while it is still possible to restrict access only to allowed roles.</p>
</div>
</div>
<div class="sect2">
<h3 id="logging_levels"><a class="anchor" href="#logging_levels"></a><a class="link" href="#logging_levels">Logging Levels</a></h3>
<div class="paragraph">
<p>Information that should be logged is of different types in multiple dimensions. In order to reason about the messages quickly and help the log message reader to distinguish between signal and noise, all logging libraries offer one very important dimension to categorize the messages: the Log level.</p>
</div>
<div class="paragraph">
<p>The log level can show how critical / urgent the message is. It is important to note that the log levels are ordered and based on each other. Slf4J defines the following <a href="https://www.slf4j.org/api/org/apache/log4j/Level.html">logging levels</a> that can be used in an application:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>TRACE</p>
</li>
<li>
<p>DEBUG</p>
</li>
<li>
<p>INFO</p>
</li>
<li>
<p>WARN</p>
</li>
<li>
<p>ERROR</p>
</li>
<li>
<p>FATAL</p>
</li>
</ul>
</div>
<div class="paragraph">
<p><code>DEBUG</code> log messages on the one end are normally used for information that helps to identify the internal state of the application for application developers.</p>
</div>
<div class="paragraph">
<p><code>ERROR</code> and <code>FATAL</code> are normally used in cases where an unexpected situation within the application occurred up to the point where the application cannot fulfill its purpose anymore.</p>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="adjust_logging_configuration"><a class="anchor" href="#adjust_logging_configuration"></a><a class="link" href="#adjust_logging_configuration">Adjust Logging Configuration</a></h2>
<div class="sectionbody">
<div class="paragraph">
<p>Logback (alongside with other logging libraries) allows customization on how and where the log information is processed and written to the output, mainly through the already mentioned <code>appender</code> concept.</p>
</div>
<div class="paragraph">
<p>Generally there are two options to adjust the configuration of logback. On the one side, there is a configuration file called <code>logback.xml</code> where the configuration can be expressed. These adjustments happen at deployment time. Alternatively, logback can (to a certain extent) be configured at runtime. CUBA offers a UI for adjusting logging configuration for this purpose (<code>Administration &gt; Server Log &gt; Options</code>).</p>
</div>
<div class="sect2">
<h3 id="at_deployment_logback_xml_configuration_file"><a class="anchor" href="#at_deployment_logback_xml_configuration_file"></a><a class="link" href="#at_deployment_logback_xml_configuration_file">At Deployment: logback.xml Configuration File</a></h3>
<div class="paragraph">
<p>The configuration file <code>logback.xml</code> is the main place to adjust the configuration of logback. In a CUBA application this file is located in <code>deploy/tomcat/conf/logback.xml</code> (in case of <a href="https://doc.cuba-platform.com/manual-7.0/fast_deployment.html">fast deployment</a> option). It looks like this:</p>
</div>
<div class="listingblock">
<div class="title">logback.xml</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="xml"><span class="tag">&lt;configuration</span> <span class="attribute-name">debug</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">false</span><span class="delimiter">&quot;</span></span> <span class="attribute-name">packagingData</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">true</span><span class="delimiter">&quot;</span></span><span class="tag">&gt;</span>

    <span class="tag">&lt;property</span> <span class="attribute-name">name</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">logDir</span><span class="delimiter">&quot;</span></span> <span class="attribute-name">value</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">${catalina.base}/logs</span><span class="delimiter">&quot;</span></span><span class="tag">/&gt;</span> <i class="conum" data-value="1"></i><b>(1)</b>

    <span class="tag">&lt;appender</span> <span class="attribute-name">name</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">File</span><span class="delimiter">&quot;</span></span> <span class="attribute-name">class</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">ch.qos.logback.core.rolling.RollingFileAppender</span><span class="delimiter">&quot;</span></span><span class="tag">&gt;</span> <i class="conum" data-value="2"></i><b>(2)</b>
        <span class="tag">&lt;file&gt;</span>${logDir}/app.log<span class="tag">&lt;/file&gt;</span>

        <span class="tag">&lt;filter</span> <span class="attribute-name">class</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">ch.qos.logback.classic.filter.ThresholdFilter</span><span class="delimiter">&quot;</span></span><span class="tag">&gt;</span>
            <span class="tag">&lt;level&gt;</span>DEBUG<span class="tag">&lt;/level&gt;</span>
        <span class="tag">&lt;/filter&gt;</span>

        <span class="tag">&lt;encoder&gt;</span>
            <span class="tag">&lt;pattern&gt;</span>%d{yyyy-MM-dd HH:mm:ss.SSS} %-5level [%thread%X{cubaApp}%X{cubaUser}] %logger - %msg%n<span class="tag">&lt;/pattern&gt;</span> <i class="conum" data-value="3"></i><b>(3)</b>
        <span class="tag">&lt;/encoder&gt;</span>
    <span class="tag">&lt;/appender&gt;</span>

    <span class="tag">&lt;appender</span> <span class="attribute-name">name</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">Console</span><span class="delimiter">&quot;</span></span> <span class="attribute-name">class</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">ch.qos.logback.core.ConsoleAppender</span><span class="delimiter">&quot;</span></span><span class="tag">&gt;</span> <i class="conum" data-value="4"></i><b>(4)</b>
        <span class="tag">&lt;encoder&gt;</span>
            <span class="tag">&lt;pattern&gt;</span>%d{HH:mm:ss.SSS} %-5level %-40logger{36}- %msg%n<span class="tag">&lt;/pattern&gt;</span>
        <span class="tag">&lt;/encoder&gt;</span>
    <span class="tag">&lt;/appender&gt;</span>

    <span class="tag">&lt;root&gt;</span>
        <span class="tag">&lt;appender-ref</span> <span class="attribute-name">ref</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">Console</span><span class="delimiter">&quot;</span></span><span class="tag">/&gt;</span>
        <span class="tag">&lt;appender-ref</span> <span class="attribute-name">ref</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">File</span><span class="delimiter">&quot;</span></span><span class="tag">/&gt;</span>
    <span class="tag">&lt;/root&gt;</span>

    <span class="tag">&lt;logger</span> <span class="attribute-name">name</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">com.haulmont.sample.petclinic</span><span class="delimiter">&quot;</span></span> <span class="attribute-name">level</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">DEBUG</span><span class="delimiter">&quot;</span></span><span class="tag">/&gt;</span> <i class="conum" data-value="5"></i><b>(5)</b>
    <span class="tag">&lt;logger</span> <span class="attribute-name">name</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">com.haulmont.cuba</span><span class="delimiter">&quot;</span></span> <span class="attribute-name">level</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">DEBUG</span><span class="delimiter">&quot;</span></span><span class="tag">/&gt;</span>
    <span class="tag">&lt;logger</span> <span class="attribute-name">name</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">com.haulmont.cuba.core.sys</span><span class="delimiter">&quot;</span></span> <span class="attribute-name">level</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">INFO</span><span class="delimiter">&quot;</span></span><span class="tag">/&gt;</span>

    <span class="comment">&lt;!-- ... --&gt;</span>

<span class="tag">&lt;/configuration&gt;</span></code></pre>
</div>
</div>
<div class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td><code>logDir</code> is a variable defined for the configuration, it describes where the file-based logfiles should be placed. It uses a special variable <code>catalina.base</code> from tomcat to reference the installation directory</td>
</tr>
<tr>
<td><i class="conum" data-value="2"></i><b>2</b></td>
<td>A file appender to write log messages to the logfile <code>app.log</code></td>
</tr>
<tr>
<td><i class="conum" data-value="3"></i><b>3</b></td>
<td><code>pattern</code> configures how a single log message line within the file should look like</td>
</tr>
<tr>
<td><i class="conum" data-value="4"></i><b>4</b></td>
<td>Another appender writes the log messages to <code>STDOUT</code> (with different options)</td>
</tr>
<tr>
<td><i class="conum" data-value="5"></i><b>5</b></td>
<td>Logging levels can be configured on a per class / package basis</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>CUBA by default configures multiple log appenders. An appender describes where the log information should be written to. There are multiple appenders available out of the box. Each appender has options to configure its behavior (like how the log message should be formatted, which information should be logged etc.). Common Log appenders are <code>FileAppender</code> and <code>ConsoleAppender</code>.</p>
</div>
<div class="paragraph">
<p>The configuration of loggers allows defining the threshold on a per class / package basis. This means that for certain sub-parts of the application, it is possible to get log messages that have been written as <code>DEBUG</code> while for other parts it is only necessary to see log messages of <code>WARN</code> and <code>ERROR</code>.</p>
</div>
<div class="paragraph">
<p>In the example above the package <code>com.haulmont.sample.petclinic</code> is set to level <code>DEBUG</code>. This means that it will output all log messages that have <em>at least</em> the <code>DEBUG</code> level. Due to the semantic order of the log levels <code>INFO</code>, <code>WARN</code>, <code>ERROR</code> and <code>FATAL</code> will also be logged for this package. <code>TRACE</code> log messages, on the other hand, will not be displayed.</p>
</div>
<div class="paragraph">
<p>Depending on how the application is deployed there are several options on where to place the logback.xml file. Besides the above mentioned <a href="https://doc.cuba-platform.com/manual-7.0/fast_deployment.html">fast deployment</a>, the <code>logback.xml</code> can be placed within the application itself or configure it to be outside of the application at a given path. See <a href="#further_information">Further Information</a> for more information.</p>
</div>
</div>
<div class="sect2">
<h3 id="at_runtime_cuba_logging_ui"><a class="anchor" href="#at_runtime_cuba_logging_ui"></a><a class="link" href="#at_runtime_cuba_logging_ui">At Runtime: CUBA Logging UI</a></h3>
<div class="paragraph">
<p>Adjusting the configuration of the file requires a restart of the application. For temporary debugging sessions, it is oftentimes helpful not to have to restart the server only to adjust the logging level or a certain subpart of the application code.</p>
</div>
<div class="paragraph">
<p>For this use-case, a CUBA application allows reconfiguring the levels of existing loggers and also add loggers at runtime through a user interface.</p>
</div>
<a href="https://raw.githubusercontent.com/cuba-guides/cuba-petclinic-application-logging/master/img/cuba-server-log-settings.png"><img src="https://raw.githubusercontent.com/cuba-guides/cuba-petclinic-application-logging/master/img/cuba-server-log-settings.png"/></a>
</div>
<div class="sect2">
<h3 id="set_logging_context_with_mdc"><a class="anchor" href="#set_logging_context_with_mdc"></a><a class="link" href="#set_logging_context_with_mdc">Set Logging Context with MDC</a></h3>
<div class="paragraph">
<p>Once the application has a certain amount of logging information certain information gets repeated in a lot of logging messages. In the petclinic example, a lot of log messages would contain the Pet ID in order to get the context information in a fast manner. For those kinds of information, there is a context in Logback, called <em>MDC</em>.</p>
</div>
<div class="paragraph">
<p>MDC allows setting certain values into a context, that gets logged every time alongside with the actual logging message. This way the context can be set once and the developer writing the actual logging statement does not need to include it into the log message anymore.</p>
</div>
<div class="paragraph">
<p>CUBA itself uses MDC in order to attach different context values to the logging messages. Mainly those are the current user as well as the current application. This means that the resulting logging messages can be filtered by users.</p>
</div>
<div class="paragraph">
<p>In the example of the petclinic, the <code>PetContactFetcherBean</code> leverages the MDC context in the following manner: directly after invoking the method <code>Optional&lt;Contact&gt; findContact(Pet pet)</code> the identification number of the Pet is set into the MDC context like this:</p>
</div>
<div class="listingblock">
<div class="title">PetContactFetcherBean.java</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span class="annotation">@Component</span>(PetContactFetcher.NAME)
<span class="directive">public</span> <span class="type">class</span> <span class="class">PetContactFetcherBean</span> <span class="directive">implements</span> PetContactFetcher {

    <span class="directive">private</span> <span class="directive">static</span> <span class="directive">final</span> <span class="predefined-type">Logger</span> log = LoggerFactory.getLogger(PetContactFetcherBean.class);


    <span class="annotation">@Override</span>
    <span class="directive">public</span> Optional&lt;Contact&gt; findContact(Pet pet) {

        MDC.put(<span class="string"><span class="delimiter">&quot;</span><span class="content">petId</span><span class="delimiter">&quot;</span></span>, pet.getIdentificationNumber()); <i class="conum" data-value="1"></i><b>(1)</b>

        log.debug(<span class="string"><span class="delimiter">&quot;</span><span class="content">Searching Contact for Pet</span><span class="delimiter">&quot;</span></span>); <i class="conum" data-value="2"></i><b>(2)</b>

        <span class="keyword">try</span> {
          Optional&lt;<span class="predefined-type">Owner</span>&gt; petOwner = loadOwnerFor(pet);

          <span class="keyword">if</span> (petOwner.isPresent()) {
              log.debug(<span class="string"><span class="delimiter">&quot;</span><span class="content">Found Owner: {}</span><span class="delimiter">&quot;</span></span>, petOwner);

              <span class="comment">// ...</span>

              <span class="keyword">if</span> (isAvailable(telephone)) {
                  <span class="keyword">return</span> createContact(telephone, ContactType.TELEPHONE);
              }

              <span class="comment">// ...</span>

          } <span class="keyword">else</span> {
              <span class="keyword">return</span> Optional.empty();
          }
        }
        <span class="keyword">finally</span> {
          MDC.remove(<span class="string"><span class="delimiter">&quot;</span><span class="content">petId</span><span class="delimiter">&quot;</span></span>); <i class="conum" data-value="4"></i><b>(4)</b>
        }
    }

    <span class="directive">private</span> Optional&lt;Contact&gt; createContact(<span class="predefined-type">String</span> contactValue, ContactType contactType) {

        Contact contact = <span class="keyword">new</span> Contact();
        contact.setValue(contactValue);
        contact.setType(contactType);

        log.info(<span class="string"><span class="delimiter">&quot;</span><span class="content">Contact created: {}</span><span class="delimiter">&quot;</span></span>, contact); <i class="conum" data-value="3"></i><b>(3)</b>

        <span class="keyword">return</span> Optional.of(contact);
    }

    <span class="comment">// ...</span>

}</code></pre>
</div>
</div>
<div class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td>The Pet&#8217;s identification number is registered in the context under the key <code>petId</code></td>
</tr>
<tr>
<td><i class="conum" data-value="2"></i><b>2</b></td>
<td>The following logging messages do not need to include the Pet ID within the log message itself</td>
</tr>
<tr>
<td><i class="conum" data-value="3"></i><b>3</b></td>
<td>The lifetime of value in the MDC is independent of method boundaries</td>
</tr>
<tr>
<td><i class="conum" data-value="4"></i><b>4</b></td>
<td>The key <code>petId</code> of the MDC is cleaned up at the end of the method</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>Now that the MDC has values in it, the next step is to reconfigure logback in order to see the dedicated MDC values in the log output.</p>
</div>
<div class="listingblock">
<div class="title">logback.xml</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="xml"><span class="tag">&lt;configuration</span> <span class="attribute-name">debug</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">false</span><span class="delimiter">&quot;</span></span> <span class="attribute-name">packagingData</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">true</span><span class="delimiter">&quot;</span></span><span class="tag">&gt;</span>

    <span class="comment">&lt;!-- ... --&gt;</span>

    <span class="tag">&lt;appender</span> <span class="attribute-name">name</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">File</span><span class="delimiter">&quot;</span></span> <span class="attribute-name">class</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">ch.qos.logback.core.rolling.RollingFileAppender</span><span class="delimiter">&quot;</span></span><span class="tag">&gt;</span>

        <span class="comment">&lt;!-- ... --&gt;</span>

        <span class="tag">&lt;encoder&gt;</span>
            <span class="tag">&lt;pattern&gt;</span>%d{yyyy-MM-dd HH:mm:ss.SSS} %-5level [%thread%X{cubaApp}%X{cubaUser}] [Pet: %X{petId}] %logger - %msg%n<span class="tag">&lt;/pattern&gt;</span> <i class="conum" data-value="1"></i><b>(1)</b>
        <span class="tag">&lt;/encoder&gt;</span>

    <span class="tag">&lt;/appender&gt;</span>

    <span class="comment">&lt;!-- ... --&gt;</span>

<span class="tag">&lt;/configuration&gt;</span></code></pre>
</div>
</div>
<div class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td><code>%X{petId}</code> takes the value with the key <code>petId</code> of the MDC and writes it to the log file</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>The resulting logging output contains the Pet identification number:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="bash">2018-12-13 08:54:41.345 DEBUG [http-nio-8080-exec-7/petclinic/admin] [Pet: 205] c.h.s.p.c.PetContactFetcherBean - Searching Contact for Pet
2018-12-13 08:54:41.354 DEBUG [http-nio-8080-exec-7/petclinic-core/admin] [Pet: 205] c.h.c.c.a.RdbmsStore - load: metaClass=petclinic_Owner, id=79fa17b9-a130-207d-5091-f79cceb9cf99, view=com.haulmont.sample.petclinic.entity.owner.Owner/_local
2018-12-13 08:54:41.371 DEBUG [http-nio-8080-exec-7/petclinic/admin] [Pet: 205] c.h.s.p.c.PetContactFetcherBean - Found Owner: Optional[com.haulmont.sample.petclinic.entity.owner.Owner-79fa17b9-a130-207d-5091-f79cceb9cf99 [detached]]
2018-12-13 08:54:41.374 INFO  [http-nio-8080-exec-7/petclinic/admin] [Pet: 205] c.h.s.p.c.PetContactFetcherBean - Contact created: TELEPHONE: 0049817312</code></pre>
</div>
</div>
<div class="paragraph">
<p>The log entries now contain the following part of the message: <code>[Pet: 205]</code>. This context entry is also used for CUBA internal logging messages like the logging message of the <code>RdbmsStore</code>.</p>
</div>
<div class="paragraph">
<p>MDC has the following advantages over putting context values directly into the log message:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>log messages are homogeneous for all logging messages</p>
</li>
<li>
<p>log messages are structured allowing for explicit search</p>
</li>
<li>
<p>the definition of the context can be extracted into a single place of the source code</p>
</li>
</ul>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="logging_to_centralized_logging_solution"><a class="anchor" href="#logging_to_centralized_logging_solution"></a><a class="link" href="#logging_to_centralized_logging_solution">Logging to Centralized Logging Solution</a></h2>
<div class="sectionbody">
<div class="paragraph">
<p>Having very detailed information about the execution of the running application is very important. But having to deal with a huge amount of log data is challenging. Storing this information in the filesystem of the server is not very accessible and also not very efficient to work with. This is why oftentimes centralized logging solutions are used for storing and accessing the log information.</p>
</div>
<div class="paragraph">
<p>A very common open source centralized logging system is based on Elasticsearch - a full-text search data store that turned out to be a great fit for the logging use case.</p>
</div>
<div class="paragraph">
<p>Logback integrates easily with centralized logging solutions via the concept of appender. In the configuration file, there were already two appenders configured for the application: <code>ConsoleAppender</code> and <code>FileAppender</code>.</p>
</div>
<div class="paragraph">
<p>For Elasticsearch there is a Logback Appender, that will directly send the logging information to the elasticsearch cluster instead of putting the log messages into a file. There are different options on how to configure logging to Elasticsearch (aka ELK-Stack). As this guide mainly deals with the integration with Logback within the application, configuring the Elasticsearch server in a production-ready way is out of scope.</p>
</div>
<div class="paragraph">
<p>In order to use Elasticsearch as a log storage backend, a dependency needs to be added to the CUBA application. In the <code>build.gradle</code> file the following dependency has to be added to <em>all</em> modules: <code>runtime "com.internetitem:logback-elasticsearch-appender:1.6"</code></p>
</div>
<div class="paragraph">
<p>The <code>logback.xml</code> configuration file should be extended to contain an additional appender:</p>
</div>
<div class="listingblock">
<div class="title">logback.xml</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="xml"><span class="tag">&lt;configuration</span> <span class="attribute-name">debug</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">false</span><span class="delimiter">&quot;</span></span> <span class="attribute-name">packagingData</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">true</span><span class="delimiter">&quot;</span></span><span class="tag">&gt;</span>

    <span class="comment">&lt;!-- ... --&gt;</span>

    <span class="tag">&lt;appender</span> <span class="attribute-name">name</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">elasticsearch</span><span class="delimiter">&quot;</span></span> <span class="attribute-name">class</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">com.internetitem.logback.elasticsearch.ElasticsearchAppender</span><span class="delimiter">&quot;</span></span><span class="tag">&gt;</span> <i class="conum" data-value="1"></i><b>(1)</b>
        <span class="tag">&lt;url&gt;</span>${ELASTICSEARCH_CLUSTER_URL}<span class="tag">&lt;/url&gt;</span> <i class="conum" data-value="2"></i><b>(2)</b>
        <span class="tag">&lt;index&gt;</span>cuba-petclinic-logs-%date{yyyy-MM-dd}<span class="tag">&lt;/index&gt;</span> <i class="conum" data-value="3"></i><b>(3)</b>
        <span class="tag">&lt;type&gt;</span>cuba-petclinic<span class="tag">&lt;/type&gt;</span>
        <span class="tag">&lt;errorLoggerName&gt;</span>es-error-logger<span class="tag">&lt;/errorLoggerName&gt;</span>
        <span class="tag">&lt;includeMdc&gt;</span>true<span class="tag">&lt;/includeMdc&gt;</span>
        <span class="tag">&lt;properties&gt;</span>
            <span class="tag">&lt;property&gt;</span>
                <span class="tag">&lt;name&gt;</span>host<span class="tag">&lt;/name&gt;</span>
                <span class="tag">&lt;value&gt;</span>${HOSTNAME}<span class="tag">&lt;/value&gt;</span>
                <span class="tag">&lt;allowEmpty&gt;</span>false<span class="tag">&lt;/allowEmpty&gt;</span>
            <span class="tag">&lt;/property&gt;</span>
            <span class="tag">&lt;property&gt;</span>
                <span class="tag">&lt;name&gt;</span>severity<span class="tag">&lt;/name&gt;</span>
                <span class="tag">&lt;value&gt;</span>%level<span class="tag">&lt;/value&gt;</span>
            <span class="tag">&lt;/property&gt;</span>
            <span class="tag">&lt;property&gt;</span>
                <span class="tag">&lt;name&gt;</span>thread<span class="tag">&lt;/name&gt;</span>
                <span class="tag">&lt;value&gt;</span>%thread<span class="tag">&lt;/value&gt;</span>
            <span class="tag">&lt;/property&gt;</span>
            <span class="tag">&lt;property&gt;</span>
                <span class="tag">&lt;name&gt;</span>logger<span class="tag">&lt;/name&gt;</span>
                <span class="tag">&lt;value&gt;</span>%logger<span class="tag">&lt;/value&gt;</span>
            <span class="tag">&lt;/property&gt;</span>
            <span class="tag">&lt;property&gt;</span>
                <span class="tag">&lt;name&gt;</span>stacktrace<span class="tag">&lt;/name&gt;</span>
                <span class="tag">&lt;value&gt;</span>%ex<span class="tag">&lt;/value&gt;</span>
            <span class="tag">&lt;/property&gt;</span>
        <span class="tag">&lt;/properties&gt;</span>
    <span class="tag">&lt;/appender&gt;</span>


    <span class="comment">&lt;!-- ... --&gt;</span>

<span class="tag">&lt;/configuration&gt;</span></code></pre>
</div>
</div>
<div class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td>An <code>elasticsearch</code> appender of <code>ElasticsearchAppender</code> type is registered for the application</td>
</tr>
<tr>
<td><i class="conum" data-value="2"></i><b>2</b></td>
<td>The URL of the elasticsearch cluster is extracted from the environment variables</td>
</tr>
<tr>
<td><i class="conum" data-value="3"></i><b>3</b></td>
<td>The elasticsearch index for the application logs is <code>cuba-petclinic-logs-%date{yyyy-MM-dd}</code> with a daily rotation</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>With that configuration in place, the application will take the log messages and send them to elasticsearch. Kibana as a user interface for accessing data in elasticsearch is capable of displaying the log information properly. Via the structured as well as full-text search capabilities, the log information can be accessed in a much easier way compared to direct access to the log files.</p>
</div>
<div class="imageblock">
<div class="content">
<img src="/guides/images/application-logging-in-cuba/elasticsearch-kibana-ui-logging.png" alt="Elasticsearch Kibana UI logging">
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="summary"><a class="anchor" href="#summary"></a><a class="link" href="#summary">Summary</a></h2>
<div class="sectionbody">
<div class="paragraph">
<p>Logging is an essential part for developers and administrators to reason about a running application. It enables developers to observe a system through opening up the "black-box" and getting valuable insights. The use cases go from debugging over performance analysis to observing user behavior.</p>
</div>
<div class="paragraph">
<p>The logging facilities in the Java and CUBA ecosystem are very mature and can be used without any friction. But as the logging API is so generic and usable in multiple ways, it heavily depends on conventions in order to get qualitative logging messages in the application. There are different mechanisms to not get overwhelmed by raw logging messages through proper logging configuration, diagnosis contexts (MDC) and logging levels.</p>
</div>
<div class="paragraph">
<p>CUBA offers an opinionated way of dealing with logging configuration and access to logs. But as it is based on standard Java logging mechanism it plays nicely with other solutions like centralized logging systems.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="further_information"><a class="anchor" href="#further_information"></a><a class="link" href="#further_information">Further Information</a></h2>
<div class="sectionbody">
<div class="ulist">
<ul>
<li>
<p><a href="https://blog.scalyr.com/2017/12/logging-levels/">Blog article: Explanation of Logging levels</a></p>
</li>
<li>
<p><a href="https://doc.cuba-platform.com/manual-{cuba-version}/logging_setup_tomcat.html">CUBA docs: Setup Logging for local development</a></p>
</li>
<li>
<p><a href="https://doc.cuba-platform.com/manual-{cuba-version}/log_dir.html">CUBA docs: Log directory of CUBA application</a></p>
</li>
<li>
<p><a href="https://doc.cuba-platform.com/manual-{cuba-version}/build.gradle_buildWar.html">CUBA docs: Build WAR with logging configuration</a></p>
</li>
</ul>
</div>
</div>
</div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </section>
            </div>

            <!-- Sidebar (right column) -->
            <div id="blog-sidebar">
                <div class="region region-sidebar">
                    <section id="block-block-29" class="block block-block clearfix">
                        <div class="guide-panel cuba-version">
                            <h4>CUBA Version 7.0</h4>
                        </div>

                        <div class="guide-panel download">
                            <h4>Get the code</h4>
                            <a class="button expanded"  href="https://github.com/cuba-guides/cuba-petclinic-application-logging/archive/master.zip" target="_blank">Download</a>
                            <a href="https://github.com/cuba-guides/cuba-petclinic-application-logging" class="github-link" target="_blank">Github</a>
                        </div>

                        <div class="guide-panel">
                            <h4>Table of contents</h4>
                            <ul class="sectlevel1">
<li><a href="#what_will_be_build">What Will Be Build</a></li>
<li><a href="#example_cuba_petclinic">Example: CUBA petclinic</a></li>
<li><a href="#why_application_logging_is_essential">Why Application Logging is Essential</a></li>
<li><a href="#the_java_logging_ecosystem">The Java Logging Ecosystem</a></li>
<li><a href="#how_to_log_in_a_cuba_application">How to Log in a CUBA Application</a></li>
<li><a href="#adjust_logging_configuration">Adjust Logging Configuration</a></li>
<li><a href="#logging_to_centralized_logging_solution">Logging to Centralized Logging Solution</a></li>
<li><a href="#summary">Summary</a></li>
<li><a href="#further_information">Further Information</a></li>
</ul>
                        </div>
                    </section>
                </div>
            </div>
        </div>
    </div>

    <!-- Footer -->
    <!-- BEGIN FOOTER -->
<footer id="footer">
    <div class="footer-wrapper cuba-container">
        <div class="region region-footer-sitemap">
            <section id="block-footer-sitemap-footer-sitemap" class="block block-footer-sitemap clearfix">
                <div id="footer-sitemap" class="clearfix">
                    <div class="fs-block-content">
                        <div class="menu-footer-sitemap">
                            <ul class="footer_links_menu-footer-sitemap total-items-5 parent-items-0 single-items-0">
                                <li class="menu-1466 depth-1 total-children-4 parent-children-0 single-children-4  first">
                                    <a href="/framework" class="fs-root-link">Platform</a>
                                    <ul class="footer_links_menu-footer-sitemap total-items-4 parent-items-0 single-items-0">
                                        <li class="menu-2770 depth-2 fs-no-children  first"><a href="/framework">The Framework</a></li>
                                        <li class="menu-1473 depth-2 fs-no-children"><a href="/development-tools">Development Tools</a></li>
                                        <li class="menu-2838 depth-2 fs-no-children"><a href="/marketplace">Marketplace</a></li>
                                        <li class="menu-2771 depth-2 fs-no-children  last"><a href="/license-pricing">License &amp; Pricing</a></li>
                                    </ul>
                                </li>
                                <li class="menu-1469 depth-1 total-children-7 parent-children-0 single-children-7">
                                    <a href="/online-demo" class="fs-root-link">Learn</a>
                                    <ul class="footer_links_menu-footer-sitemap total-items-7 parent-items-0 single-items-0">
                                        <li class="menu-1479 depth-2 fs-no-children first"><a href="/online-demo">Online demo</a></li>
                                        <li class="menu-1477 depth-2 fs-no-children"><a href="/quickstart">Quick start</a></li>
                                        <li class="menu-1478 depth-2 fs-no-children"><a href="/tutorials">Tutorials</a></li>
                                        <li class="menu-1731 depth-2 fs-no-children"><a href="/sample-projects">Sample Projects</a></li>
                                        <li class="menu-1773 depth-2 fs-no-children"><a href="/webinars">Webinars</a></li>
                                        <li class="menu-1476 depth-2 fs-no-children"><a href="/documentation">Documentation</a></li>
                                        <li class="menu-1602 depth-2 fs-no-children last"><a href="/faq">FAQ</a></li>
                                    </ul>
                                </li>
                                <li class="menu-1603 depth-1 total-children-3 parent-children-0 single-children-3"><a
                                        href="https://www.cuba-platform.com/discuss/" class="fs-root-link">Community</a>
                                    <ul class="footer_links_menu-footer-sitemap total-items-3 parent-items-0 single-items-0">
                                        <li class="menu-1604 depth-2 fs-no-children first"><a href="https://www.cuba-platform.com/discuss/">Forum</a></li>
                                        <li class="menu-1692 depth-2 fs-no-children"><a href="/testimonials">Customer stories</a></li>
                                        <li class="menu-1615 depth-2 fs-no-children last"><a href="/blog">Blog</a></li>
                                    </ul>
                                </li>
                                <li class="menu-1663 depth-1 total-children-3 parent-children-0 single-children-3"><a
                                        href="/training" class="fs-root-link">Services</a>
                                    <ul class="footer_links_menu-footer-sitemap total-items-3 parent-items-0 single-items-0">
                                        <li class="menu-1756 depth-2 fs-no-children first"><a href="/training">Training</a></li>
                                        <li class="menu-1757 depth-2 fs-no-children"><a href="/support-options">Support</a></li>
                                        <li class="menu-1758 depth-2 fs-no-children last"><a href="/deployment">Development</a>
                                        </li>
                                    </ul>
                                </li>
                                <li class="menu-1612 depth-1 total-children-3 parent-children-0 single-children-3  last">
                                    <a href="/download" class="fs-root-link">More</a>
                                    <ul class="footer_links_menu-footer-sitemap total-items-3 parent-items-0 single-items-0">
                                        <li class="menu-2773 depth-2 fs-no-children first"><a href="/download">Download</a></li>
                                        <li class="menu-2775 depth-2 fs-no-children"><a href="/store">Store</a></li>
                                        <li class="menu-1480 depth-2 fs-no-children last"><a href="/contacts">Contacts</a></li>
                                    </ul>
                                </li>
                            </ul>
                        </div>
                    </div>
                </div>

            </section>
        </div>
        <div class="region region-footer-copyright">
            <section id="block-block-14" class="block block-block clearfix">
                <div class="footer-copyright">
                    <div class="copyright">Copyright &copy; 2008-2018 Haulmont</div>
                    <div class="licences"><a href="/terms-of-use">Terms of Use</a></div>
                    <div class="socials">
                        <ul>
                            <li><a href="https://github.com/cuba-platform/cuba" class="socials-icon github"></a></li>
                            <li><a href="https://www.youtube.com/c/CubaPlatform" class="socials-icon youtube"></a></li>
                            <li><a href="https://www.facebook.com/CUBAplatform" class="socials-icon facebook"></a></li>
                            <li><a href="https://twitter.com/CubaPlatform" class="socials-icon twitter"></a></li>
                            <li><a href="https://www.linkedin.com/company/cuba-platform" class="socials-icon linkedin"></a></li>
                            <li><a href="https://www.cuba-platform.com/rss.xml" class="socials-icon rss"></a></li>
                        </ul>
                    </div>
                </div>
                <!-- Place this tag in your head or just before your close body tag. -->
                <script async defer src="https://buttons.github.io/buttons.js"></script>
            </section>
        </div>
    </div>
    <!--<script src="https://www.cuba-platform.com/sites/default/files/js/js_OmOCame-fnmHrN5e61CZ6Qi6MS5rHZ2jo6O0qsiYS1Q.js"></script>
    <script src="https://www.cuba-platform.com/sites/default/files/js/js_Es7w5kWiS8CGph1E0HE2jrcO3tONeJfC-cTNWigk87E.js"></script>-->
</footer>
<!-- END FOOTER -->
<div class="scrollTop"></div>
</section>

<script src="/guides/js/foundation.min.js"></script>
<script src="https://unpkg.com/isotope-layout@3.0/dist/isotope.pkgd.js"></script>
<script src="/guides/js/vendor/modernizr.js"></script>
<script src="/guides/js/toc.js"></script>
<script src="/guides/js/navigation.js"></script>
<script src="/guides/js/navbar.js"></script>
<script src="/guides/js/extra.js"></script>
<script src="/guides/js/extra2.js"></script>
<script>
(function ($) {
  $(document).foundation();
  var doc = document.documentElement;
  doc.setAttribute('data-useragent', navigator.userAgent)

  /* Issue #24 */
  $(".blog .content img").each(function() {
    var imgMarkup = $(this)[0].outerHTML;
    console.log(imgMarkup);
    $(this).replaceWith('<div class="img-center">' + imgMarkup + '</div>');
  });
})(jQuery); 
</script>
</body>
</html>
